<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1347" height="798"><desc>title%20AA%20Recover%20Using%20ZK%0A%0Aparticipant%20User%0Aparticipant%20Frontend%0A%0A%0Aparticipant%20Backend%0Aparticipant%20Account%20Contract%0Aparticipant%20Verifier%20Contract%0A%0A%0A%0A%0AUser-%3EFrontend%3A2.1.%5Bone%20guardian%5Dget_proof_offchain%0ABackend%3C-Frontend%3A2.2.(account_address)%0ABackend-%3EAccount%20Contract%3A%202.3.query_merkle_leafs%0AAccount%20Contract%20-%3EBackend%3A%202.4.(merkle_leafs)%0ABackend%20-%3EBackend%3A%202.5.build_merkle_tree%2C%20generate_proof%0ABackend%20-%3EFrontend%3A%202.6.proof%0AFrontend%20-%3E%20User%3A%202.7.proof%0AUser%20-%3EFrontend%3A%203.1.%5Bany%20user%20w%2F%20the%20proof%5Drecover(cur_guard%2C%20proof)%0AFrontend%20-%3EBackend%3A%203.2(cur_guardian%2C%20proof)%0ABackend%20-%3EAccount%20Contract%3A%203.3.one_recover(cur_guard_nullifier%2C%20proof)%0AAccount%20Contract%20-%3E%20Verifier%20Contract%3A%203.4.verify(cur_guard_nullifier%2C%20proof)%0AVerifier%20Contract%20-%3EAccount%20Contract%3A%203.5.(sucess%2Ffail)%0AAccount%20Contract%20-%3EAccount%20Contract%3A%203.6.if(success)%20setup%20recover%20status</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1347" height="798"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="563.723410549901" y="24.50280495" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AA Recover Using ZK</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 41.57014549710157 95.887643371 L 41.57014549710157 798.3013852709998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 439.75550452496617 95.887643371 L 439.75550452496617 798.3013852709998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 647.9475621612291 95.887643371 L 647.9475621612291 798.3013852709998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 979.547288864875 95.887643371 L 979.547288864875 798.3013852709998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1265.2905702560208 95.887643371 L 1265.2905702560208 798.3013852709998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.167601650000002 51.782594461 L 74.97268934420313 51.782594461 L 74.97268934420313 95.887643371 L 8.167601650000002 95.887643371 L 8.167601650000002 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="25.891297230500008" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 391.6709996182943 51.782594461 L 487.840009431638 51.782594461 L 487.840009431638 95.887643371 L 391.6709996182943 95.887643371 L 391.6709996182943 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="409.3946951987943" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Frontend</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 600.8159457433268 51.782594461 L 695.0791785791315 51.782594461 L 695.0791785791315 95.887643371 L 600.8159457433268 95.887643371 L 600.8159457433268 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="618.5396413238268" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Backend</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 901.7323457257812 51.782594461 L 1057.3622320039688 51.782594461 L 1057.3622320039688 95.887643371 L 901.7323457257812 95.887643371 L 901.7323457257812 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="919.4560413062812" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Account Contract</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1190.9060622975912 51.782594461 L 1339.6750782144507 51.782594461 L 1339.6750782144507 95.887643371 L 1190.9060622975912 95.887643371 L 1190.9060622975912 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1208.6297578780911" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Verifier Contract</text></g></g><g><g><g><rect fill="white" stroke="none" x="113.53678615421747" y="128.558049971" width="254.25207771363281" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="115.98706664921747" y="143.259732941" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2.1.[one guardian]get_proof_offchain</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 41.57014549710157 149.793814261 L 426.3061871412995 149.793814261" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(439.75550452496617,149.793814261) translate(-439.75550452496617,-149.793814261)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 426.1428351082995 142.98747955266666 L 439.75550452496617 149.793814261 L 426.1428351082995 156.60014896933333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="466.1369324745625" y="174.296619211" width="155.42920173707031" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="468.58721296956253" y="188.99830218099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2.2.(account_address)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 439.75550452496617 195.532383501 L 634.4982447775625 195.532383501" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(647.9475621612291,195.532383501) translate(-647.9475621612291,-195.532383501)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 634.3348927445625 188.72604879266666 L 647.9475621612291 195.532383501 L 634.3348927445625 202.33871820933334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="733.5186492294779" y="220.035188451" width="160.45755256714844" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="735.9689297244779" y="234.736871421" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2.3.query_merkle_leafs</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 647.9475621612291 241.270952741 L 966.0979714812083 241.270952741" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(979.547288864875,241.270952741) translate(-979.547288864875,-241.270952741)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 965.9346194482083 234.46461803266666 L 979.547288864875 241.270952741 L 965.9346194482083 248.07728744933334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="751.081294187974" y="265.77375769099996" width="125.33226265015625" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="753.531574682974" y="280.47544066099994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2.4.(merkle_leafs)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 979.547288864875 287.009521981 L 661.3968795448958 287.009521981" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(647.9475621612291,287.009521981) translate(-647.9475621612291,-287.009521981)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 661.5602315778958 280.20318727266664 L 647.9475621612291 287.009521981 L 661.5602315778958 293.8158566893333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="667.2775527328959" y="311.512326931" width="262.35902656617185" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="669.7278332278959" y="326.214009901" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2.5.build_merkle_tree, generate_proof</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 647.9475621612291 332.748091221 L 713.2883753612291 332.748091221 L 713.2883753612291 353.983855511 L 661.3968795448958 353.983855511" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(647.9475621612291,353.983855511) translate(-647.9475621612291,-353.983855511)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 661.5602315778958 347.17752080266666 L 647.9475621612291 353.983855511 L 661.5602315778958 360.79019021933334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="510.4393921913594" y="378.486660461" width="66.82428230347656" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="512.8896726863594" y="393.18834343099996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2.6.proof</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 647.9475621612291 399.722424751 L 453.2048219086328 399.722424751" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(439.75550452496617,399.722424751) translate(-439.75550452496617,-399.722424751)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 453.36817394163285 392.91609004266667 L 439.75550452496617 399.722424751 L 453.36817394163285 406.52875945933334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="207.63917262882686" y="424.225229701" width="66.04730476441406" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="210.08945312382684" y="438.92691267099997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2.7.proof</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 439.75550452496617 445.460993991 L 55.01946288076824 445.460993991" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(41.57014549710157,445.460993991) translate(-41.57014549710157,-445.460993991)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 55.18281491376824 438.65465928266667 L 41.57014549710157 445.460993991 L 55.18281491376824 452.26732869933335 Z"/></g></g><g><g><rect fill="white" stroke="none" x="60.90013606876825" y="469.963798941" width="359.5253778845312" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="63.35041656376825" y="484.665481911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3.1.[any user w/ the proof]recover(cur_guard, proof)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 41.57014549710157 491.199563231 L 426.3061871412995 491.199563231" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(439.75550452496617,491.199563231) translate(-439.75550452496617,-491.199563231)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 426.1428351082995 484.3932285226667 L 439.75550452496617 491.199563231 L 426.1428351082995 498.00589793933335 Z"/></g></g><g><g><rect fill="white" stroke="none" x="459.0854950966328" y="515.702368181" width="169.5320764929297" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="461.53577559163284" y="530.404051151" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3.2(cur_guardian, proof)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 439.75550452496617 536.938132471 L 634.4982447775625 536.938132471" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(647.9475621612291,536.938132471) translate(-647.9475621612291,-536.938132471)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 634.3348927445625 530.1317977626667 L 647.9475621612291 536.938132471 L 634.3348927445625 543.7444671793334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="667.2775527328959" y="561.440937421" width="292.9397455603125" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="669.7278332278959" y="576.1426203909999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3.3.one_recover(cur_guard_nullifier, proof)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 647.9475621612291 582.676701711 L 966.0979714812083 582.676701711" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(979.547288864875,582.676701711) translate(-979.547288864875,-582.676701711)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 965.9346194482083 575.8703670026666 L 979.547288864875 582.676701711 L 965.9346194482083 589.4830364193333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="998.8772794365416" y="607.1795066609999" width="247.0833002478125" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1001.3275599315416" y="621.8811896309999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3.4.verify(cur_guard_nullifier, proof)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 979.547288864875 628.4152709509999 L 1251.841252872354 628.4152709509999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1265.2905702560208,628.4152709509999) translate(-1265.2905702560208,-628.4152709509999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1251.6779008393542 621.6089362426666 L 1265.2905702560208 628.4152709509999 L 1251.6779008393542 635.2216056593332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="1065.0377256035338" y="652.9180759009998" width="114.76240791382813" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1067.4880060985338" y="667.6197588709998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3.5.(sucess/fail)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1265.2905702560208 674.1538401909999 L 992.9966062485416 674.1538401909999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(979.547288864875,674.1538401909999) translate(-979.547288864875,-674.1538401909999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 993.1599582815417 667.3475054826665 L 979.547288864875 674.1538401909999 L 993.1599582815417 680.9601748993332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="998.8772794365417" y="698.6566451409998" width="248.27081550660156" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1001.3275599315417" y="713.3583281109998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3.6.if(success) setup recover status</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 979.547288864875 719.8924094309998 L 1044.888102064875 719.8924094309998 L 1044.888102064875 741.1281737209998 L 992.9966062485416 741.1281737209998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(979.547288864875,741.1281737209998) translate(-979.547288864875,-741.1281737209998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 993.1599582815417 734.3218390126665 L 979.547288864875 741.1281737209998 L 993.1599582815417 747.9345084293332 Z"/></g></g></g><g/><g/><g/><g/><g/></g></svg>